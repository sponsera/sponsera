<!doctype html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SponsEra — Where Brands & Creators Connect</title>
  <meta name="description" content="SponsEra helps creators and brands build real partnerships with real impact." />
  <!-- Fonts: Playfair Display (luxury English headings), Noto Kufi Arabic (Arabic), Inter (body) -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,700&family=Inter:wght@300;400;600;700&family=Noto+Kufi+Arabic:wght@300;400;700&display=swap" rel="stylesheet">
  <link rel="icon" href="logo_transparent.png" type="image/png" />
  <style>
    :root{
      /* core colors */
      --navy:#071a2b;              /* primary navy */
      --navy-deep:#041223;         /* dark page background */
      --baby:#EAF8FF;              /* light-mode page background (baby/sky) */
      --sky:#dff6ff;               /* sky color for boxes */
      --sky-strong:#bfeeff;
      --accent:#1358b8;            /* button accent */
      --muted:#6b7785;             /* muted text */
      --card:#ffffff;              /* light card */
      --card-dark:#071826;         /* dark card */
      --radius:14px;
      --maxw:1100px;

      /* glows */
      --glow-sky: 0 8px 28px rgba(137,207,240,0.28), 0 18px 48px rgba(137,207,240,0.22);
      --glow-sky-strong: 0 12px 44px rgba(137,207,240,0.35), 0 28px 80px rgba(137,207,240,0.25);
      --glow-royal: 0 10px 40px rgba(24,69,156,0.42), 0 24px 80px rgba(24,69,156,0.28);
      --glow-btn: 0 0 12px rgba(19,88,184,0.45);
      --glow-btn-hover: 0 0 18px rgba(19,88,184,0.7);

      /* logo glows */
      --logo-glow-light: 0 10px 40px rgba(255,230,150,0.25);
      --logo-glow-dark: 0 10px 40px rgba(30,90,200,0.45);

      /* spacing / sizes */
      --hero-size: 30px;
      --title-size: 18px;
      --body-size: 16px;
      --lead-size: 18px;
    }

    /* baseline & resets */
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      background:var(--baby);
      color:#071225;
      -webkit-font-smoothing:antialiased;
      transition:background .35s,color .35s;
      scroll-behavior:smooth;
      font-size:var(--body-size);
      line-height:1.6;
    }
    body.dark{
      background:var(--navy-deep);
      color:#eaf4ff;
    }

    /* links */
    a{ color:var(--accent); text-decoration:none; transition: text-shadow .25s ease; }
    a:hover{ text-shadow: 0 0 8px var(--accent); text-decoration:underline; }

    /* top controls */
    .controls{
      position:fixed; top:14px; left:18px; right:18px; display:flex; justify-content:space-between; z-index:1400; pointer-events:none;
    }
    .controls-left, .controls-right{ pointer-events:auto; display:flex; gap:10px; align-items:center; }
    select, .theme-btn{
      border-radius:10px; padding:9px 12px; border:1px solid rgba(8,12,20,0.06);
      background:transparent; cursor:pointer; font-weight:700;
      color:inherit;
      transition: box-shadow 0.3s ease, background 0.3s ease, transform .12s;
      font-family: 'Inter', sans-serif;
      font-size:14px;
    }
    select:hover, .theme-btn:hover{ box-shadow: var(--glow-btn-hover); transform:translateY(-1px) }
    body.dark select, body.dark .theme-btn{ border-color: rgba(255,255,255,0.06); background: rgba(255,255,255,0.02); color:#fff; }

    /* header */
    header{
      position:sticky; top:0; z-index:1200; backdrop-filter: blur(6px);
      background: linear-gradient(180deg, rgba(255,255,255,0.62), rgba(255,255,255,0.15));
      transition: background .35s;
    }
    body.dark header{ background: linear-gradient(180deg, rgba(3,8,15,0.6), rgba(3,8,15,0.25)); }

    .header-inner{ max-width:var(--maxw); margin:0 auto; padding:14px; display:flex; align-items:center; justify-content:center; gap:16px; }
    .logo-wrap{ position:relative; display:inline-block; cursor:pointer; border-radius:10px; transition: transform .22s; padding:2px 6px; }
    .logo{ width:160px; height:auto; display:block; border-radius:8px; transition: transform .25s ease, filter .4s ease, box-shadow .35s ease; filter: drop-shadow(0 10px 24px rgba(10,30,60,0.06)); background: transparent; }
    .logo-wrap:hover .logo{ transform: translateY(-3px); }
    /* different logo glows per mode */
    .logo { box-shadow: var(--logo-glow-light); }
    body.dark .logo{ box-shadow: var(--logo-glow-dark); filter: brightness(1.12); }

    /* layout wrapper */
    .wrap{ max-width:var(--maxw); margin:0 auto; padding:36px 24px 60px; }

    /* hero */
    .hero{ text-align:center; padding:54px 20px 40px; }
    .hero h1{
      font-family: 'Playfair Display', serif;
      font-weight:700;
      font-size: var(--hero-size);
      margin:0 0 12px;
      letter-spacing: -0.02em;
      line-height:1.05;
      text-align:center;
    }
    .hero p{
      max-width:900px;
      margin:10px auto 0;
      color:var(--muted);
      font-size:var(--lead-size);
      font-weight:500;
      text-align:center;
    }

    /* cards / sections */
    .card{
      background:var(--card);
      border-radius:var(--radius);
      padding:26px;
      margin:28px 0;
      box-shadow: 0 10px 36px rgba(9,23,40,0.04);
      transition: background .35s, color .35s, box-shadow .35s, transform .24s;
      color:inherit;
    }
    body.dark .card{ background:var(--card-dark); box-shadow:none; }

    /* glowing boxes: always glow, sky in light, royal in dark */
    .card.glow{
      /* light default */
      box-shadow: var(--glow-sky);
    }
    body.dark .card.glow{
      box-shadow: var(--glow-royal);
    }

    /* section titles */
    .section-title{
      font-family: 'Playfair Display', serif;
      font-size: calc(var(--title-size) + 2px);
      margin-bottom:12px;
      font-weight:700;
      color:var(--navy);
      text-align:center; /* centered always */
    }
    body.dark .section-title{ color:#fff; }

    .simple-list{ list-style:none; padding:0; margin:12px 0; display:flex; flex-direction:column; gap:12px; align-items:center; }
    .simple-list li{ color:var(--muted); font-size:15px; text-align:center; }
    body.dark .simple-list li{ color: rgba(230,237,243,0.86); }

    .section-grid{ display:grid; grid-template-columns:repeat(auto-fit, minmax(240px,1fr)); gap:18px; }

    .feature{ padding:14px; border-radius:12px; background:transparent; }
    .feature h3{ margin:0 0 8px; font-size:16px; font-family:'Playfair Display', serif; text-align:center; }
    .feature p{ margin:0; color:var(--muted); text-align:center; font-size:15px; }
    body.dark .feature p{ color: rgba(230,237,243,0.85); }

    /* collab box (vertical form) */
    .collab-wrap{
      max-width:680px;
      margin:0 auto;
      border-radius:18px;
      padding:28px 26px;
      cursor:default;
      user-select:none;
      transition: background-position 3s ease, box-shadow .35s ease, transform .2s;
    }
    /* light mode collab: sky background + glow */
    body:not(.dark) .collab-wrap{
      background: linear-gradient(180deg, var(--sky), var(--sky-strong));
      box-shadow: var(--glow-sky-strong);
    }
    /* dark mode collab: darker card + royal glow */
    body.dark .collab-wrap{
      background: linear-gradient(180deg, rgba(10,24,48,0.28), rgba(10,20,36,0.18));
      box-shadow: var(--glow-royal);
    }

    @keyframes gradientShift {
      0%{background-position:0% 50%}
      50%{background-position:100% 50%}
      100%{background-position:0% 50%}
    }

    form{ background: transparent; box-shadow:none; padding:0; }
    .row{ display:flex; gap:14px; margin-bottom:14px; }
    /* make collab rows always vertical stacks */
    .collab-wrap .row{ flex-direction:column; }
    .col{ flex:1; }

    input, textarea{
      width:100%;
      padding:14px 16px;
      border-radius:12px;
      border:1px solid rgba(8,12,20,0.08);
      font-size:15.5px;
      background: rgba(255,255,255,0.95);
      color:#071225;
      font-weight:600;
      outline:none;
      transition: background .28s, border-color .28s, box-shadow .28s;
      resize:none;
      box-shadow:none;
      font-family:Inter, system-ui, sans-serif;
    }
    input::placeholder, textarea::placeholder{ color:#9aa6b6; font-weight:500; }
    input:focus, textarea:focus{ background:#fff; border-color:var(--accent); box-shadow:var(--glow-btn); color:#071225; }

    /* dark inputs */
    body.dark input, body.dark textarea{
      background: rgba(255,255,255,0.06);
      color:#eaf4ff;
      border: 1px solid rgba(255,255,255,0.12);
    }
    body.dark input::placeholder, body.dark textarea::placeholder{ color: rgba(255,255,255,0.7); }
    body.dark input:focus, body.dark textarea:focus{ background: rgba(255,255,255,0.06); border-color: var(--accent); box-shadow: var(--glow-btn); color:#eaf4ff; }

    button.btn{
      background: var(--accent);
      color:#fff;
      padding: 12px 22px;
      border-radius: 12px;
      border:none;
      font-weight:800;
      cursor:pointer;
      transition: box-shadow .28s ease, transform .12s ease;
      user-select:none;
      box-shadow: var(--glow-btn);
      width:100%;
      font-size:16px;
      font-family:'Playfair Display', serif;
      letter-spacing:0.02em;
    }
    button.btn:active{ transform: translateY(1px); box-shadow: var(--glow-btn-hover); }
    button.btn:hover{ box-shadow: var(--glow-btn-hover); }
    button.btn:disabled{ opacity:0.75; cursor:not-allowed; box-shadow:none; }

    /* popup + confetti */
    .popup{
      position: fixed;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%) scale(.96);
      z-index: 2000;
      min-width: 320px;
      padding: 18px 28px;
      border-radius: 14px;
      display: none;
      opacity: 0;
      text-align: center;
      background: var(--card);
      box-shadow: 0 20px 60px rgba(2,6,23,0.18);
      transition: opacity .3s ease, transform .3s ease;
      font-weight:700;
      color: #071225;
      user-select:none;
      font-family: 'Playfair Display', serif;
    }
    body.dark .popup{
      background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
      color: #eaf4ff;
      box-shadow: 0 20px 70px rgba(24,69,156,0.28);
    }
    .popup.show{ display:block; opacity:1; transform: translate(-50%, -50%) scale(1); }

    #confettiCanvas{ position: fixed; left: 0; top: 0; width: 100%; height: 100%; pointer-events:none; z-index: 1900; display:none; }

    /* footer */
    footer.site-footer{ text-align:center; padding: 28px 12px 36px; color: var(--muted); font-weight:600; font-size:15px; user-select:none; }
    footer.site-footer a{ color:var(--accent); font-weight:800; transition:text-shadow .25s; }
    footer.site-footer a:hover{ text-shadow: 0 0 8px var(--accent); }
    .copyright{ margin-top:10px; color:#9aaac0; font-size:13px; user-select:none; }
    body.dark .copyright{ color: rgba(230,237,243,0.72); }

    /* reveal */
    .reveal{ opacity:0; transform:translateY(12px); transition:opacity .6s ease, transform .6s ease; }
    .reveal.visible{ opacity:1; transform:translateY(0); }

    /* responsive tweaks */
    @media (max-width:920px){
      :root{ --hero-size:26px; --title-size:16px; --lead-size:16px; }
      .logo{ width:140px; }
      .wrap{ padding:28px 18px 48px; }
    }
    @media (max-width:520px){
      :root{ --hero-size:22px; --title-size:15px; --lead-size:15px; }
      .logo{ width:120px; }
    }
  </style>
</head>
<body>

  <!-- controls -->
  <div class="controls" role="region" aria-label="Controls">
    <div class="controls-left">
      <select id="langSelect" aria-label="Language selector">
        <option value="en">English</option>
        <option value="ar">العربية</option>
      </select>
    </div>
    <div class="controls-right">
      <button class="theme-btn" id="themeBtn" aria-label="Toggle theme">🌗</button>
    </div>
  </div>

  <!-- header/logo -->
  <header>
    <div class="header-inner">
      <a class="logo-wrap" href="#" aria-label="SponsEra home" tabindex="0">
        <!-- keep transparent logo file name the same you use locally -->
        <img src="logo_transparent.png" alt="SponsEra logo" class="logo" />
      </a>
    </div>
  </header>

  <main class="wrap">
    <!-- HERO -->
    <section class="hero reveal" id="hero">
      <h1 data-key="hero-title">We help brands and creators find each other, work together and succeed.</h1>
      <p data-key="hero-sub">SponsEra connects creators and brands with meaningful sponsorships that deliver real impact. Clean. Fast. Human.</p>
    </section>

    <!-- HOW IT WORKS -->
    <section class="card glow baby reveal" id="how">
      <div class="inner-card">
        <h2 class="section-title" data-key="how-title">How It Works</h2>
        <ul class="simple-list" aria-hidden="false">
          <li data-key="how-1">Brands sign up &amp; post opportunities</li>
          <li data-key="how-2">Creators apply with their pitch</li>
          <li data-key="how-3">Collaborations begin. Simple, fast, transparent.</li>
        </ul>
      </div>
    </section>

    <!-- BENEFITS -->
    <section class="card glow baby reveal" id="benefits">
      <h2 class="section-title" data-key="benefits-title">For Brands &amp; Creators</h2>
      <div class="section-grid">
        <div class="feature" aria-labelledby="brand-title" role="region">
          <h3 id="brand-title" data-key="brand-title">For Brands</h3>
          <p data-key="brand-text">Reach authentic creators who resonate with your mission. Get measurable results.</p>
        </div>
        <div class="feature" aria-labelledby="creator-title" role="region">
          <h3 id="creator-title" data-key="creator-title">For Creators</h3>
          <p data-key="creator-text">Skip the middleman. Land real deals. Keep your creative freedom.</p>
        </div>
      </div>
    </section>

    <!-- SIGNATURE PERKS -->
    <section class="card glow baby reveal" id="features">
      <h2 class="section-title" data-key="features-title">Signature Perks</h2>
      <div class="section-grid">
        <div class="feature" aria-labelledby="f1-title" role="region">
          <h3 id="f1-title" data-key="f1-title">🧠 Smart Matchmaking</h3>
          <p data-key="f1-text">Our algorithm pairs you with ideal brand partners.</p>
        </div>
        <div class="feature" aria-labelledby="f2-title" role="region">
          <h3 id="f2-title" data-key="f2-title">📊 Performance Tracking</h3>
          <p data-key="f2-text">Monitor real-time performance of your collabs.</p>
        </div>
        <div class="feature" aria-labelledby="f3-title" role="region">
          <h3 id="f3-title" data-key="f3-title">🛡️ Secure Payments</h3>
          <p data-key="f3-text">We protect both sides with milestone-based payments.</p>
        </div>
      </div>
    </section>

    <!-- LET'S COLLABORATE (vertical form) -->
    <section class="card collab-wrap glow baby reveal" aria-labelledby="contact-title" id="contact">
      <h2 id="contact-title" class="section-title" data-key="contact-title">Let's Collaborate</h2>
      <form id="contactForm" aria-describedby="contact-desc" novalidate>
        <div id="contact-desc" style="font-size: 13px; color: rgba(15,20,25,0.45); margin-bottom: 18px;">
          Send us a message and we’ll get back to you.
        </div>
        <div class="row">
          <div class="col">
            <input type="text" name="_honey" style="display:none">

            <input type="text" id="name" name="name" placeholder="Your name" required autocomplete="name" aria-required="true" />
          </div>
        </div>
        <div class="row">
          <div class="col">
            <input type="email" id="email" name="email" placeholder="Your email" required autocomplete="email" aria-required="true" />
          </div>
        </div>
        <div class="row">
          <div class="col">
            <textarea id="message" name="message" rows="5" placeholder="Write your message here..." required aria-required="true"></textarea>
          </div>
        </div>
        <div class="row">
          <button class="btn" type="submit" aria-live="polite" aria-busy="false" aria-label="Send message">Send</button>
        </div>
      </form>
    </section>
  </main>

  <!-- THANK YOU POPUP -->
  <div class="popup" role="alertdialog" aria-live="polite" aria-modal="true" id="thankYouPopup" tabindex="-1">
    <p>Thank you for reaching out! We’ll get back to you very soon. 💙</p>
  </div>

  <!-- CONFETTI CANVAS -->
  <canvas id="confettiCanvas" aria-hidden="true"></canvas>

  <!-- FOOTER -->
  <footer class="site-footer">
    <div>
      <!-- keep socials/email exactly as you asked -->
      <a href="https://www.instagram.com/sponsera.co" target="_blank" rel="noopener noreferrer" aria-label="Visit Sponsera Instagram">@sponsera.co</a> |
      <a href="mailto:sponsera@proton.me" aria-label="Send email to sponsera">sponsera@proton.me</a>
    </div>
    <div class="copyright" aria-label="Copyright notice">© 2025 SponsEra. All rights reserved.</div>
  </footer>

 <script>
(() => {
  const themeBtn = document.getElementById('themeBtn');
  const body = document.body;

  /* THEME HANDLING */
  function setTheme(dark, save = true) {
    if (dark) {
      body.classList.add('dark');
      themeBtn.textContent = '☀️';
    } else {
      body.classList.remove('dark');
      themeBtn.textContent = '🌗';
    }
    if (save) localStorage.setItem('theme', dark ? 'dark' : 'light');
  }
  const savedTheme = localStorage.getItem('theme');
  if (savedTheme) setTheme(savedTheme === 'dark', false); else setTheme(true, false);

  themeBtn.addEventListener('click', () => setTheme(!body.classList.contains('dark')));

  /* TRANSLATIONS */
  const translations = {
    en: {
      "hero-title": "We help brands and creators find each other, work together and succeed.",
      "hero-sub": "SponsEra connects creators and brands with meaningful sponsorships that deliver real impact. Clean. Fast. Human.",
      "how-title": "How It Works",
      "how-1": "Brands sign up & post opportunities",
      "how-2": "Creators apply with their pitch",
      "how-3": "Collaborations begin. Simple, fast, transparent.",
      "benefits-title": "For Brands & Creators",
      "brand-title": "For Brands",
      "brand-text": "Reach authentic creators who resonate with your mission. Get measurable results.",
      "creator-title": "For Creators",
      "creator-text": "Skip the middleman. Land real deals. Keep your creative freedom.",
      "features-title": "Signature Perks",
      "f1-title": "🧠 Smart Matchmaking",
      "f1-text": "Our algorithm pairs you with ideal brand partners.",
      "f2-title": "📊 Performance Tracking",
      "f2-text": "Monitor real-time performance of your collabs.",
      "f3-title": "🛡️ Secure Payments",
      "f3-text": "We protect both sides with milestone-based payments.",
      "contact-title": "Let's Collaborate"
    },
    ar: {
      "hero-title": "نساعد العلامات التجارية والمبدعين على التواصل والعمل معاً والنجاح.",
      "hero-sub": "تربط SponsEra المبدعين والعلامات التجارية بشراكات ذات تأثير حقيقي. نظيف. سريع. إنساني.",
      "how-title": "كيف يعمل",
      "how-1": "تقوم العلامات التجارية بالتسجيل ونشر الفرص",
      "how-2": "يتقدم المبدعون بعروضهم",
      "how-3": "تبدأ التعاونات. بسيط، سريع، شفاف.",
      "benefits-title": "للعلامات التجارية والمبدعين",
      "brand-title": "للعلامات التجارية",
      "brand-text": "الوصول إلى مبدعين أصليين يتماشون مع مهمتك. الحصول على نتائج قابلة للقياس.",
      "creator-title": "للمبدعين",
      "creator-text": "تخطي الوسطاء. إتمام صفقات حقيقية. الحفاظ على حريتك الإبداعية.",
      "features-title": "مزايا مميزة",
      "f1-title": "🧠 مطابقة ذكية",
      "f1-text": "خوارزميتنا تربطك بشركاء العلامة التجارية المثاليين.",
      "f2-title": "📊 تتبع الأداء",
      "f2-text": "مراقبة أداء التعاونات في الوقت الحقيقي.",
      "f3-title": "🛡️ دفعات آمنة",
      "f3-text": "نحمي الطرفين عبر دفعات حسب مراحل المشروع.",
      "contact-title": "هيا نتعاون"
    }
  };

  const langSelect = document.getElementById('langSelect');
  function setLanguage(lang) {
    if (!translations[lang]) return;
    document.querySelectorAll('[data-key]').forEach(el => {
      const key = el.getAttribute('data-key');
      if (translations[lang][key]) el.textContent = translations[lang][key];
    });
    if (lang === 'ar') {
      document.documentElement.setAttribute('dir', 'rtl');
      document.documentElement.lang = 'ar';
      document.querySelectorAll('h1,h2,h3,p,li,button,input,textarea').forEach(el => {
        el.style.fontFamily = "Noto Kufi Arabic, 'Playfair Display', Inter, sans-serif";
      });
    } else {
      document.documentElement.setAttribute('dir', 'ltr');
      document.documentElement.lang = 'en';
      document.querySelectorAll('h1,h2,h3,p,li,button,input,textarea').forEach(el => {
        el.style.fontFamily = "'Playfair Display', Inter, sans-serif";
      });
    }
  }
  langSelect.value = 'en';
  langSelect.addEventListener('change', (e) => setLanguage(e.target.value));
  setLanguage('en');

  /* FORM HANDLING + CONFETTI + THANK YOU */
  const form = document.getElementById('contactForm');
  const thankYou = document.getElementById('thankYouPopup');
  const confettiCanvas = document.getElementById('confettiCanvas');

  function sendEmail(data) {
    return fetch("https://formsubmit.co/el/mozuve", {
      method: "POST",
      headers: {
        "Content-Type": "application/x-www-form-urlencoded"
      },
      body: new URLSearchParams({
        name: data.name,
        email: data.email,
        message: data.message,
        _honey: data.honey || "", /* honeypot value */
        _captcha: "false",
        _template: "table"
      })
    });
  }

  function launchConfetti() {
    const confetti = confettiCanvas;
    confetti.width = window.innerWidth;
    confetti.height = window.innerHeight;
    const ctx = confetti.getContext('2d');
    confetti.style.display = 'block';

    const pieces = [];
    const colors = body.classList.contains('dark') ? ['#274690', '#1358b8', '#89cff0', '#0b2b4a'] : ['#FFD66B', '#FFDFA7', '#E8F8FF', '#89cff0'];

    function randomRange(min, max) { return Math.random() * (max - min) + min; }

    for (let i = 0; i < 160; i++) {
      pieces.push({
        x: Math.random() * confetti.width,
        y: Math.random() * confetti.height - confetti.height,
        r: randomRange(5, 10),
        d: randomRange(10, 30),
        color: colors[Math.floor(Math.random() * colors.length)],
        tilt: randomRange(-10, 10),
        tiltAngle: 0,
        tiltAngleIncrement: randomRange(0.05, 0.12)
      });
    }

    let animationFrame;
    function draw() {
      ctx.clearRect(0, 0, confetti.width, confetti.height);
      pieces.forEach(p => {
        p.tiltAngle += p.tiltAngleIncrement;
        p.y += (Math.cos(p.d) + 3 + p.r / 2) * 0.7;
        p.x += Math.sin(p.d);
        p.tilt = Math.sin(p.tiltAngle) * 15;
        ctx.beginPath();
        ctx.lineWidth = p.r / 2;
        ctx.strokeStyle = p.color;
        ctx.moveTo(p.x + p.tilt + p.r / 4, p.y);
        ctx.lineTo(p.x + p.tilt, p.y + p.tilt + p.r / 4);
        ctx.stroke();
      });
      animationFrame = requestAnimationFrame(draw);
    }
    draw();

    setTimeout(() => {
      cancelAnimationFrame(animationFrame);
      ctx.clearRect(0, 0, confetti.width, confetti.height);
      confetti.style.display = 'none';
    }, 4200);
  }

  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    const btn = form.querySelector('button[type="submit"]');
    if (!form.checkValidity()) {
      form.reportValidity();
      return;
    }

    // Honeypot check
    if (form._honey && form._honey.value) {
      return; // Bot detected, don't send
    }

    btn.disabled = true;
    btn.setAttribute('aria-busy', 'true');

    const formData = {
      name: form.name.value.trim(),
      email: form.email.value.trim(),
      message: form.message.value.trim(),
      honey: form._honey.value.trim()
    };

    try {
      await sendEmail(formData);
      form.reset();
      thankYou.classList.add('show');
      thankYou.focus();
      launchConfetti();
      setTimeout(() => { thankYou.classList.remove('show'); }, 6000);
    } catch (err) {
      alert('Sorry — there was an error sending your message. Please try again later.');
    }

    btn.disabled = false;
    btn.setAttribute('aria-busy', 'false');
  });

  /* reveal on scroll */
  const revealEls = document.querySelectorAll('.reveal');
  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) entry.target.classList.add('visible');
    });
  }, { threshold: 0.18 });
  revealEls.forEach(el => observer.observe(el));

  /* Accessibility helper */
  const popup = document.getElementById('thankYouPopup');
  popup.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') popup.classList.remove('show');
  });

})();
</script>


</body>
</html>
